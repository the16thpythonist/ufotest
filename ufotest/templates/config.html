{% extends "base.html" %}

{% block title %}Config{% endblock %}

{% block head %}
    {{ super() }}
    <link rel="stylesheet" type="text/css" href="{{ config.static('config.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ config.static('codemirror/codemirror.css') }}">
    <script src="{{ config.static('codemirror/codemirror.js') }}"></script>
    <script src="{{ config.static('codemirror/mode/toml/toml.js') }}"></script>
{% endblock %}

{% block content %}
    <div class="config-container">
        <div class="config-editor">
            <div class="filename">
                <i class="fas fa-pen"></i>
                <span>Config.toml</span>
            </div>
            <textarea id="editor" rows="{{ line_count }}" spellcheck="false">{{ config_content }}</textarea>
            <button class="btn save" onclick="console.log('Jello')">Save</button>
        </div>
    </div>
    <script>
        let editor = document.getElementById('editor');
        let codeMirror = CodeMirror.fromTextArea(editor);
        codeMirror.options.mode = 'toml';
        //codeMirror.options.lineNumbers = true;
        codeMirror.setSize("", "100%");
        codeMirror.refresh();
    </script>
{% endblock %}
